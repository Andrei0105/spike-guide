<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="shortcut icon" href="../img/favicon.ico">
        <title>Troubleshooting - Spike + Loop Wiki</title>
        <link href="../css/bootstrap-custom.min.css" rel="stylesheet">
        <link href="../css/font-awesome.min.css" rel="stylesheet">
        <link href="../css/base.css" rel="stylesheet">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css">
        <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
        <![endif]-->

        <script src="../js/jquery-1.10.2.min.js" defer></script>
        <script src="../js/bootstrap-3.0.3.min.js" defer></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
        <script>hljs.initHighlightingOnLoad();</script> 
    </head>

    <body>

        <div class="navbar navbar-default navbar-fixed-top" role="navigation">
            <div class="container">

                <!-- Collapsed navigation -->
                <div class="navbar-header">
                    <!-- Expander button -->
                    <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                        <span class="sr-only">Toggle navigation</span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                    <a class="navbar-brand" href="..">Spike + Loop Wiki</a>
                </div>

                <!-- Expanded navigation -->
                <div class="navbar-collapse collapse">
                        <!-- Main navigation -->
                        <ul class="nav navbar-nav">
                            <li >
                                <a href="..">Home</a>
                            </li>
                            <li >
                                <a href="../calibration/">Calibration</a>
                            </li>
                            <li >
                                <a href="../about/">The Spike Branches</a>
                            </li>
                            <li class="active">
                                <a href="./">Troubleshooting</a>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="dropdown-toggle" data-toggle="dropdown">Build Your Own Spike Branch <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li >
    <a href="../diy/getting-started/">Getting Started</a>
</li>
                                    
<li >
    <a href="../diy/build/">Build</a>
</li>
                                    
<li >
    <a href="../diy/resources/">Resources</a>
</li>
                                </ul>
                            </li>
                        </ul>

                    <ul class="nav navbar-nav navbar-right">
                        <li>
                            <a href="#" data-toggle="modal" data-target="#mkdocs_search_modal">
                                <i class="fa fa-search"></i> Search
                            </a>
                        </li>
                            <li >
                                <a rel="next" href="../about/">
                                    <i class="fa fa-arrow-left"></i> Previous
                                </a>
                            </li>
                            <li >
                                <a rel="prev" href="../diy/getting-started/">
                                    Next <i class="fa fa-arrow-right"></i>
                                </a>
                            </li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="container">
                <div class="col-md-3"><div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
        <li class="main active"><a href="#loop-not-getting-spike-data-try-some-of-these-fixes">Loop not getting Spike data ? Try some of these fixes.</a></li>
            <li><a href="#make-sure-that-spike-is-active-in-the-background">Make sure that Spike is active in the background</a></li>
            <li><a href="#spike-is-updating-but-loop-isnt">Spike is updating, but Loop isn't</a></li>
            <li><a href="#delayed-cgm-data-but-green-loop">Delayed CGM data, but green loop</a></li>
            <li><a href="#still-not-working">Still not working ?</a></li>
    </ul>
</div></div>
                <div class="col-md-9" role="main">

<h1 id="loop-not-getting-spike-data-try-some-of-these-fixes">Loop not getting Spike data ? Try some of these fixes.</h1>
<blockquote>
<p>Note that you will not get Spike readings as expected when using a simulator pump in Loop. In order for Loop to pull Spike data in the expected manner, a physical pump needs to be paired with the Loop app.
If you're still waiting for your RileyLink to arrive and have Spike paired with Health at the moment in order to get some data into Loop, remember to <strong><em>disable Health capabilities in Spike</em></strong> when connecting your pump to Loop for the first time.
</p>
</blockquote>
<h3 id="make-sure-that-spike-is-active-in-the-background">Make sure that Spike is active in the background</h3>
<p>The app must be open and active in order to get readings, and thus to send them to Loop as well. If you're having connectivity issues <em>within Spike</em>, try :</p>
<ul>
<li>
<p><strong>Changing the suspension prevention settings of Spike</strong>. In <code>settings &gt; advanced &gt; user defined</code>, you'll be able to select your mode. Read the instructions in that panel to determine which setting you should start with, as this changes per CGM.</p>
</li>
<li>
<p><strong>iCloud settings</strong>. When the phone is plugged in, on WiFi, and the screen is off, this is when iCloud backs up your phone. This setting is turned on by default. This will sometimes disrupt Spike getting readings. The solution can either be to not plug your phone in overnight, or to disable this setting by clicking on your account from within the phone's settings, scroll to the bottom to select the phone you're using, and clicking on the iCloud settings.</p>
</li>
<li>
<p><strong>Screen time</strong>. You may have a setting enabled in this menu that is forcing Spike to quit, be it during the night or the day. This menu can be found under "screen time" (I think it's called that, my phone isn't in English, sorry... it's the option underneath "Do not disturb", the purple icon with the hourglass).</p>
</li>
<li>
<p><strong>Background app refresh</strong>. Under <code>general &gt; background app refresh</code>, you can make sure that Spike is enabled. Again, this may be labeled differently on a phone in English... It's the 8th option on the screen.</p>
</li>
</ul>
<h3 id="spike-is-updating-but-loop-isnt">Spike is updating, but Loop isn't</h3>
<p>More often than not, the issue lies in Apple Health. Your settings <em>must</em> be :</p>
<ul>
<li>
<p>Loop : has full monopoly on reading and writing <em>all data</em></p>
</li>
<li>
<p>Spike : has <em>zero</em> abilities to read or write. You can also fully disable Spike's access to Health by going into its <code>settings &gt; share</code>, and disabling Health Kit</p>
</li>
</ul>
<p>See the <a href="https://loopkit.github.io/loopdocs/build/health/">LoopDocs section on Health permissions</a> for more.</p>
<p>If your Health settings are correct, try :</p>
<ul>
<li>
<p><strong>Enable the HTTP internal server in Spike</strong>. This can be found in <code>settings &gt; integration</code>.</p>
</li>
<li>
<p><strong>Delete Spike as your CGM source in Loop</strong>, then when reselecting Spike, delete the credentials and enter new ones. Changing this up could knock things back into place.</p>
</li>
<li>
<p><strong>A simple restart</strong>. Close both Spike and Loop from the app switcher, turn the phone off and back on again, then reopen Spike and Loop in that order.</p>
</li>
</ul>
<h3 id="delayed-cgm-data-but-green-loop">Delayed CGM data, but green loop</h3>
<p>The way the Spike client works is that if a reading is from less than 30 seconds ago when Loop updates, it will not take this reading into account. So, for example, if Spike updates when Loop says it's at 4 minutes, the reading sometimes may not be taken into account. You can get yourself in a spot where Loop will then continually act upon 9 minute old data.</p>
<p>For Libre users, click "on demand" in Spike to get a new reading while Loop is at 3 minutes.</p>
<h3 id="still-not-working">Still not working ?</h3>
<p>You can try a soft reset of the phone, or even delete Loop completely off of the phone and load it back on if you're in a tight spot and absolutely nothing is working, as a last ditch effort. Before you do that though, double check that your Loop app is displaying the correct version of Loop : it should be the original Loop version name plus <code>-spike</code> on the end. With all these new releases coming out, it's not unheard of that people mix up the folders or projects in Xcode and accidentally deploy the wrong version.</p>
<p>Also, if you'd been previously using a different source - such as Dexcom Share - when you load a new version, Loop keeps all your old settings. This includes whichever CGM source you were using. You'll have to delete that CGM source in order to get Spike to show up as a CGM option.</p>
<p>If you're still stuck, remember to <a href="https://loopkit.github.io/loopdocs/troubleshooting/overview/">check the LoopDocs</a> for any other non-Spike-specific troubleshooting steps as well.</p></div>
        </div>

        <footer class="col-md-12">
            <hr>
            <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script>
            var base_url = "..",
                shortcuts = {"help": 191, "next": 78, "previous": 80, "search": 83};
        </script>
        <script src="../js/base.js" defer></script>
        <script src="../search/main.js" defer></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="Search Modal" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                <h4 class="modal-title" id="exampleModalLabel">Search</h4>
            </div>
            <div class="modal-body">
                <p>
                    From here you can search these documents. Enter
                    your search terms below.
                </p>
                <form role="form">
                    <div class="form-group">
                        <input type="text" class="form-control" placeholder="Search..." id="mkdocs-search-query" title="Type search term here">
                    </div>
                </form>
                <div id="mkdocs-search-results"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="Keyboard Shortcuts Modal" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                <h4 class="modal-title" id="exampleModalLabel">Keyboard Shortcuts</h4>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>

    </body>
</html>
